<html>
<head>
<title>main.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #cc7832;}
.s2 { color: #6a8759;}
.s3 { color: #6897bb;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
main.py</font>
</center></td></tr></table>
<pre>



<span class="s1">import </span><span class="s0">os</span>
<span class="s1">import </span><span class="s0">random</span>





<span class="s0">files = os.listdir(</span><span class="s2">'Input_Files/'</span><span class="s0">)</span>
<span class="s0">l = len(files)</span>


<span class="s1">for </span><span class="s0">i </span><span class="s1">in </span><span class="s0">range(l):</span>
    <span class="s0">files[i] = files[i][:-</span><span class="s3">3</span><span class="s0">]</span>






<span class="s1">def </span><span class="s0">solve(m</span><span class="s1">, </span><span class="s0">t2</span><span class="s1">, </span><span class="s0">t3</span><span class="s1">, </span><span class="s0">t4</span><span class="s1">, </span><span class="s0">ing</span><span class="s1">, </span><span class="s0">shuff):</span>
    <span class="s0">i</span><span class="s1">, </span><span class="s0">score = </span><span class="s3">0</span><span class="s1">, </span><span class="s3">0</span>

    <span class="s0">random.shuffle(shuff)</span>

    <span class="s0">tt</span><span class="s1">, </span><span class="s0">ttt</span><span class="s1">, </span><span class="s0">tttt = []</span><span class="s1">, </span><span class="s0">[]</span><span class="s1">, </span><span class="s0">[]</span>


    <span class="s1">while </span><span class="s0">i &lt; m:</span>


        <span class="s1">if </span><span class="s0">i + </span><span class="s3">2 </span><span class="s0">&lt;= m </span><span class="s1">and </span><span class="s0">t2 &gt; </span><span class="s3">0</span><span class="s0">:</span>
            <span class="s0">t2 -= </span><span class="s3">2</span>
            <span class="s0">tt.append([shuff[i]</span><span class="s1">, </span><span class="s0">shuff[i + </span><span class="s3">1</span><span class="s0">]])</span>
            <span class="s0">ss = len(set(ing[shuff[i]] + ing[shuff[i + </span><span class="s3">1</span><span class="s0">]]))</span>
            <span class="s0">i += </span><span class="s3">2</span>

        <span class="s1">elif </span><span class="s0">i + </span><span class="s3">3 </span><span class="s0">&lt;= m </span><span class="s1">and </span><span class="s0">t3 &gt; </span><span class="s3">0</span><span class="s0">:</span>
            <span class="s0">t3 -= </span><span class="s3">3</span>
            <span class="s0">ttt.append([shuff[i]</span><span class="s1">, </span><span class="s0">shuff[i + </span><span class="s3">1</span><span class="s0">]</span><span class="s1">, </span><span class="s0">shuff[i + </span><span class="s3">2</span><span class="s0">]])</span>
            <span class="s0">ss = len(set(ing[shuff[i]] + ing[shuff[i + </span><span class="s3">1</span><span class="s0">]] + ing[shuff[i + </span><span class="s3">2</span><span class="s0">]]))</span>
            <span class="s0">i += </span><span class="s3">3</span>

        <span class="s1">elif </span><span class="s0">i + </span><span class="s3">4 </span><span class="s0">&lt;= m </span><span class="s1">and </span><span class="s0">t4 &gt; </span><span class="s3">0</span><span class="s0">:</span>
            <span class="s0">t4 -= </span><span class="s3">4</span>
            <span class="s0">tttt.append([shuff[i]</span><span class="s1">, </span><span class="s0">shuff[i + </span><span class="s3">1</span><span class="s0">]</span><span class="s1">, </span><span class="s0">shuff[i + </span><span class="s3">2</span><span class="s0">]</span><span class="s1">, </span><span class="s0">shuff[i + </span><span class="s3">3</span><span class="s0">]])</span>
            <span class="s0">ss = len(set(ing[shuff[i]] + ing[shuff[i + </span><span class="s3">1</span><span class="s0">]] + ing[shuff[i + </span><span class="s3">2</span><span class="s0">]] + ing[shuff[i + </span><span class="s3">3</span><span class="s0">]]))</span>
            <span class="s0">i += </span><span class="s3">4</span>


        <span class="s1">else</span><span class="s0">:</span>
            <span class="s1">break</span>


        <span class="s0">score += ss ** </span><span class="s3">2</span>


    <span class="s1">return </span><span class="s0">len(tt)</span><span class="s1">, </span><span class="s0">len(ttt)</span><span class="s1">, </span><span class="s0">len(tttt)</span><span class="s1">, </span><span class="s0">tt</span><span class="s1">, </span><span class="s0">ttt</span><span class="s1">, </span><span class="s0">tttt</span><span class="s1">, </span><span class="s0">score</span>





<span class="s1">for </span><span class="s0">i </span><span class="s1">in </span><span class="s0">range(l):</span>


    <span class="s1">with </span><span class="s0">open(</span><span class="s2">'Input_Files/' </span><span class="s0">+ files[i] + </span><span class="s2">'.in'</span><span class="s1">, </span><span class="s2">'r'</span><span class="s0">) </span><span class="s1">as </span><span class="s0">f:</span>


        <span class="s0">content = f.readlines()</span>
        <span class="s0">ingredients = []</span>
        <span class="s0">m</span><span class="s1">, </span><span class="s0">t2</span><span class="s1">, </span><span class="s0">t3</span><span class="s1">, </span><span class="s0">t4 = [int(x) </span><span class="s1">for </span><span class="s0">x </span><span class="s1">in </span><span class="s0">content[</span><span class="s3">0</span><span class="s0">].split()]</span>
        <span class="s1">for </span><span class="s0">j </span><span class="s1">in </span><span class="s0">range(</span><span class="s3">1</span><span class="s1">, </span><span class="s0">m + </span><span class="s3">1</span><span class="s0">):</span>
            <span class="s0">ingredient = content[j].split()[</span><span class="s3">1</span><span class="s0">:]</span>
            <span class="s0">ingredients.append((ingredient))</span>

    <span class="s0">bestscore = </span><span class="s3">0</span>
    <span class="s0">besttwo</span><span class="s1">, </span><span class="s0">bestthree</span><span class="s1">, </span><span class="s0">bestfour = []</span><span class="s1">, </span><span class="s0">[]</span><span class="s1">, </span><span class="s0">[]</span>
    <span class="s0">vals = list(range(m))</span>

    <span class="s1">for </span><span class="s0">_ </span><span class="s1">in </span><span class="s0">range(</span><span class="s3">10000</span><span class="s0">):</span>
        <span class="s0">l2</span><span class="s1">, </span><span class="s0">l3</span><span class="s1">, </span><span class="s0">l4</span><span class="s1">, </span><span class="s0">two</span><span class="s1">, </span><span class="s0">three</span><span class="s1">, </span><span class="s0">four</span><span class="s1">, </span><span class="s0">score = solve(m</span><span class="s1">, </span><span class="s3">2 </span><span class="s0">* t2</span><span class="s1">, </span><span class="s3">3 </span><span class="s0">* t3</span><span class="s1">, </span><span class="s3">4 </span><span class="s0">* t4</span><span class="s1">, </span><span class="s0">ingredients</span><span class="s1">, </span><span class="s0">vals)</span>


        <span class="s1">if </span><span class="s0">score &gt; bestscore:</span>
            <span class="s0">bestscore</span><span class="s1">, </span><span class="s0">besttwo</span><span class="s1">, </span><span class="s0">bestthree</span><span class="s1">, </span><span class="s0">bestfour = score</span><span class="s1">, </span><span class="s0">two</span><span class="s1">, </span><span class="s0">three</span><span class="s1">, </span><span class="s0">four</span>


    <span class="s1">with </span><span class="s0">open(</span><span class="s2">'Output_Files/' </span><span class="s0">+ files[i] + </span><span class="s2">'.out'</span><span class="s1">, </span><span class="s2">'w'</span><span class="s0">) </span><span class="s1">as </span><span class="s0">f:</span>
        <span class="s0">f.write(str(l2 + l3 + l4) + </span><span class="s2">'</span><span class="s1">\n</span><span class="s2">'</span><span class="s0">)</span>


        <span class="s1">for </span><span class="s0">ii </span><span class="s1">in </span><span class="s0">range(l2):</span>
            <span class="s0">f.write(</span><span class="s2">'2 '</span><span class="s0">)</span>
            <span class="s1">for </span><span class="s0">j </span><span class="s1">in </span><span class="s0">range(</span><span class="s3">2</span><span class="s0">):</span>
                <span class="s0">f.write(str(besttwo[ii][j]) + </span><span class="s2">' '</span><span class="s0">)</span>
            <span class="s0">f.write(</span><span class="s2">'</span><span class="s1">\n</span><span class="s2">'</span><span class="s0">)</span>
        <span class="s1">for </span><span class="s0">ii </span><span class="s1">in </span><span class="s0">range(l3):</span>
            <span class="s0">f.write(</span><span class="s2">'3 '</span><span class="s0">)</span>
            <span class="s1">for </span><span class="s0">j </span><span class="s1">in </span><span class="s0">range(</span><span class="s3">3</span><span class="s0">):</span>
                <span class="s0">f.write(str(bestthree[ii][j]) + </span><span class="s2">' '</span><span class="s0">)</span>
            <span class="s0">f.write(</span><span class="s2">'</span><span class="s1">\n</span><span class="s2">'</span><span class="s0">)</span>
        <span class="s1">for </span><span class="s0">ii </span><span class="s1">in </span><span class="s0">range(l4):</span>
            <span class="s0">f.write(</span><span class="s2">'4 '</span><span class="s0">)</span>
            <span class="s1">for </span><span class="s0">j </span><span class="s1">in </span><span class="s0">range(</span><span class="s3">4</span><span class="s0">):</span>
                <span class="s0">f.write(str(bestfour[ii][j]) + </span><span class="s2">' '</span><span class="s0">)</span>
            <span class="s0">f.write(</span><span class="s2">'</span><span class="s1">\n</span><span class="s2">'</span><span class="s0">)</span>

    <span class="s0">print(</span><span class="s2">&quot;Done &quot;</span><span class="s1">, </span><span class="s0">files[i]</span><span class="s1">, </span><span class="s2">&quot;</span><span class="s1">\n</span><span class="s2">Score :&quot;</span><span class="s1">, </span><span class="s0">bestscore)</span>


<span class="s0">print(</span><span class="s2">&quot;All Done&quot;</span><span class="s0">)</span>

</pre>
</body>
</html>